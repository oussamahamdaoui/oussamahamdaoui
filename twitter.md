# TOR public stream

***This paper is work in progress there is no proof of how secure this algorithm is***

## 1 Introduction

PLEASE MAKE SURE NOT TO USE THIS IN A PRODUCTION MODE, THIS IS WORK IN PROGRESS THERE IS NO PROOF OF THIS ALGORITHM, IF YOU END UP IMPLEMENTING THIS PAPER NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY.

In this paper wi will as usaly take Alice and Bob as examle, we will use twitter as message media.

### a) Naming and variables

This paper will describe a way to use centralised internet as a media for secure and untrakable messaging, and may be browsing.

Alice, Bob and Charlie have each of them a **pair** of public and private keys generated by a asymetric cryptographic algotithme (RSA, eliptic curves...) in the hole papre they will be named as followed,

For Alice:
- A<sub>public-key</sub>
- A<sub>prrivate-key</sub> 
- A<sub>hidden-public</sub> 
- A<sub>private-hidden</sub> 

For Bob:
- B<sub>public-key</sub>
- B<sub>prrivate-key</sub> 
- B<sub>hidden-public</sub> 
- B<sub>private-hidden</sub

For Charlie:
- C<sub>public-key</sub>
- C<sub>prrivate-key</sub> 
- C<sub>hidden-public</sub> 
- C<sub>private-hidden</sub>

The cryptographic functions that will be used are:

- `crypt(public_key, message)`
- `decrypt(private_key, message)`

**We will asume that:**
  - `decript(private_key, crypt(public_key, message)) = message`
  - There is no way to find `message` if we only see `crypt(public_key,message)`
  - Twitter acounts are public
  - All messages are public (every one can read **all** messages)

### b) Description

In the exemple we are using Twitter, every twitter acount has a public key associated with the acount. The list of all twitter acounts that implement the protocol is called `L` it may look like this:

L = [ K<sub>public-key1</sub>, K<sub>public-key2</sub>, K<sub>public-key3</sub> ... A<sub>public-key</sub>, B<sub>public-key</sub>, C<sub>public-key</sub> ]


### c) The protocol

Alice wants to comunicate with B<sub>hidden-public</sub>  this key is not linked to Bob's account.


#### Step 1: n random nodes

Alice is going to choose randomly `n` public keys from `L`, we will call them `nodes`

nodes =  [ K<sub>public-key1</sub>, K<sub>public-key2</sub>, K<sub>public-key3</sub>]

#### Step 2: write the message


m = {

    message: 'Hello',
  
    address: A<sub>hidden-public</sub>,

}


Where `hidden-public` is A<sub>hidden-public</sub>

#### Step 2: encrypt the message

Alice is going to crypt `m` with B<sub>hidden-public</sub>

m2 = crypt(B<sub>hidden-public</sub>, m)


#### Step 3: onion encryption

She will then encrypt `m2` using the first public key in `nodes``

m3 = {
  message:m2,
  nodes:
}



